test_var = 'help'

switch test_var
case 'nothelp', 'help', 1, 2, 3
  print 'test test'
case 4
case 5
  print 'derp'
case false
  print 'true'
else
  print 'not test test'
end

String::sub 'a', 1, 2

func foo(b, *args)
  print :args.test

  yield
end

func bar(a = 100, b)
  a = 123
  b = 321
end

class DiscordLogger
  func DiscordLogger(id, token)
    this.id = id
    this.token = token
    this.url = 'https://discordapp.com/api/webhooks/' + :this.id + '/' + :this.token
    this.prefix = ''
  end

  func prefix(p)
    this.prefix or= p.to_s
  end

  func add(msg)
    http::Post this.url, {
      content: :this.prefix + msg,
    }
  end
end

admin_logger = new DiscordLogger '123456789', 'aaaaaaaaabbbbbbbbbbbbccccccccccc'

bar 101, fn
  print 'shite'
end

test = 'hello'
test = 'world'

test.gsub 'a', 'b'

foo test: 'hello world ish maybe' do
  print 'test'
end

test or= {}

namespace Test
  func foo
  end
end

//include 'luna/support/support.lun'
